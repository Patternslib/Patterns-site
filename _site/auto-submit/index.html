<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>Patterns library</title>
		<link rel="stylesheet" href="/style/base.css" type="text/css">

		<script src="/bundles/patterns.min.js" type="text/javascript"></script>
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-37987884-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>

		<link rel="icon" type="image/png" href="/media/favicon.png" />
		<!--[if IE]>
				<link rel="shortcut icon" type="image/x-icon" href="media/favicon.ico" />
		<![endif]-->
	</head>
	<body class="state-">
		<header id="site-header">
			<nav class="global-nav navigation">
				<a class="pat-switch download pat-inject" data-pat-switch="body state-* state-download" href="/download.html#content">Download</a>
				<a class="pat-switch patterns pat-inject" data-pat-switch="body state-* state-home" href="/index.html#content">Patterns</a>
				<a class="pat-switch documentation pat-inject" data-pat-switch="body state-* state-documentation" href="/documentation.html#content">Documentation</a>
			</nav>
		</header>
		<div id="content">
			<h1>Auto submit</h1>

<h2>Demo</h2>

<a href="/demo//auto-submit/index.html#content" class="pat-inject" data-pat-inject="target: self; trigger: autoload">Load demo</a>

<h2>Documentation</h2>

<p>The autosubmit pattern submits a form if a form element changes. It is
enabled by class “pat-autosubmit” for individual form elements, on
grouping elements for all elements in the group, and on forms for all
elements of the form.</p>

<p>Only one element:</p>

<pre><code>&lt;form&gt;
  &lt;input class="pat-autosubmit" type="text" name="q" placeholder="Search query"/&gt;
&lt;/form&gt;
</code></pre>

<p>On a fieldset:</p>

<pre><code>&lt;form&gt;
  &lt;fieldset class="pat-autosubmit"&gt;
   &lt;input type="text" name="q" placeholder="Search query"/&gt;
   &lt;label&gt;&lt;input type="checkbox" name="local"/&gt; Only search in this section&lt;/label&gt;
 &lt;/fieldset&gt;
&lt;/form&gt;
</code></pre>

<p>And on the form:</p>

<pre><code>&lt;form class="pat-autosubmit"&gt;
  &lt;fieldset&gt;
   &lt;input type="text" name="q" placeholder="Search query"/&gt;
   &lt;label&gt;&lt;input type="checkbox" name="local"/&gt; Only search in this section&lt;/label&gt;
 &lt;/fieldset&gt;
&lt;/form&gt;
</code></pre>

<h3 id="what-constitutes-a-change">What constitutes a change</h3>

<p>While for a checkbox a change is clearly defined as uncheck/check, for
input fields there are more options.</p>

<p>Without configuration, a change will be detected 400ms after the last
keypress in an input field. Naturally, if two keypresses are more than
400ms apart, two submits will be triggered.</p>

<p>You can configure this behaviour with the delay option.</p>

<p>no delay:</p>

<pre><code>&lt;form&gt;
  &lt;input name="q" class="pat-autosubmit" data-pat-autosubmit="delay: 0ms"/&gt;
&lt;/form&gt;
</code></pre>

<p>longer delay:</p>

<pre><code>&lt;form&gt;
  &lt;input name="q" class="pat-autosubmit" data-pat-autosubmit="delay: 1000ms"/&gt;
&lt;/form&gt;
</code></pre>

<p>delay until element loses focus:</p>

<pre><code>&lt;form&gt;
  &lt;input name="q" class="pat-autosubmit" data-pat-autosubmit="delay: defocus"/&gt;
&lt;/form&gt;
</code></pre>

<h3 id="combining-with-injection">Combining with injection</h3>

<p>Autosubmit is most useful when combined with injection. This makes it
trivial to create a form that automatically loads content and displays
it on the page. Here is a minimal search page:</p>

<pre><code>&lt;form class="pat-inject pat-autosubmit" action="/search" data-pat-inject="target: #results"&gt;
  &lt;input type="text" name="q" placeholder="Search query"/&gt;
  &lt;label&gt;&lt;input type="checkbox" name="local"/&gt; Only search in this section&lt;/label&gt;
&lt;/form&gt;

&lt;section id="results"&gt;
  ... present search results here
&lt;/section&gt;
</code></pre>

<p>As soon as the user starts entering text in the search field or changes
the local-search toggle search requests will send to the server and the
results will be inserted into the existing page by replacing the content
of the <em>results</em> section.</p>

		</div>
	</body>
</html>